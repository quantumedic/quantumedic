webpackJsonp([4],{"+VMk":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("Dd8w"),a=s.n(n),i=s("NYxO"),r=s("hiWG"),c=s("TZg7"),o={props:["selects","tags"],components:{TagList:s("2tll").a}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel"},[e("div",{staticClass:"panel-body"},[e("p",[this._v("可选父标签：")]),this._v(" "),e("tag-list",{attrs:{tags:this.tags,selects:this.selects}})],1)])},staticRenderFns:[]},u=s("VU/8")(o,l,!1,null,null,null).exports,d=s("SNIX"),f={props:["info","selects"],computed:a()({},Object(i.c)({submitting:function(t){return t.TagModule.submitting}})),methods:a()({},Object(i.b)({modifyTag:"modifyTag"}),{save:function(){var t=this;this.info.parents=this.selects.selected.join(","),this.modifyTag({info:this.info,success:function(){t.$router.push({name:"tag",params:{id:t.$route.params.id}})}})}})},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"text-right text-info"},[s("button",{staticClass:"btn-clean",attrs:{disabled:t.submitting},on:{click:function(e){return e.preventDefault(),t.save(e)}}},[s("i",{staticClass:"fa fa-arrow-circle-right pointer"})])])},staticRenderFns:[]},g=s("VU/8")(f,p,!1,null,null,null).exports,m={components:{ParentTags:u,TagForm:d.a,EditTag:g},data:function(){return{info:Object(r.a)(c.b),parents:{selected:[]}}},computed:a()({},Object(i.c)({requesting:function(t){return t.TagModule.requesting},tag_unexistance:function(t){return t.TagModule.tag_unexistance},tag_detail:function(t){return t.TagModule.tag_detail},tag_docs:function(t){return t.TagModule.tag_docs},parent_tags:function(t){return t.TagModule.parent_tags}})),methods:a()({},Object(i.b)({getTagDetail:"getTagDetail",getTagsByLevel:"getTagsByLevel"}),{sync:function(){for(var t in this.info)this.info[t]=this.tag_detail[t];this.parents.selected=this.tag_detail.parents.map(function(t){return t.id}),this.info.parents=this.parents.selected.join(","),console.info(this.parents.selected,this.info.parents)},fetch:function(){var t=this;this.getTagDetail({id:this.$route.params.id,success:function(){t.getTagsByLevel({level:t.tag_detail.level}),t.sync()}})}}),created:function(){this.fetch()},watch:{$route:"fetch"}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-panel"},[s("h2",{staticClass:"text-center"},[t._v("\n\t\t配置标签信息\n\t")]),t._v(" "),s("hr"),t._v(" "),s("parent-tags",{attrs:{selects:t.parents,tags:t.parent_tags}}),t._v(" "),s("tag-form",{attrs:{info:t.info}}),t._v(" "),s("edit-tag",{attrs:{info:t.info,selects:t.parents}})],1)},staticRenderFns:[]},h=s("VU/8")(m,v,!1,null,null,null);e.default=h.exports},"2tll":function(t,e,s){"use strict";var n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",[s("div",{staticClass:"form-group"},t._l(t.tags,function(e){return s("label",{staticClass:"small"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selects.selected,expression:"selects.selected"}],attrs:{type:"checkbox",name:"doc-tag"},domProps:{value:e.id,checked:Array.isArray(t.selects.selected)?t._i(t.selects.selected,e.id)>-1:t.selects.selected},on:{change:function(s){var n=t.selects.selected,a=s.target,i=!!a.checked;if(Array.isArray(n)){var r=e.id,c=t._i(n,r);a.checked?c<0&&t.$set(t.selects,"selected",n.concat([r])):c>-1&&t.$set(t.selects,"selected",n.slice(0,c).concat(n.slice(c+1)))}else t.$set(t.selects,"selected",i)}}}),t._v("\n\n\t\t\t"+t._s(e.name)+"\n\t\t\t    \n\t\t")])}))])},staticRenderFns:[]},a=s("VU/8")({props:["selects","tags"]},n,!1,null,null,null);e.a=a.exports},SNIX:function(t,e,s){"use strict";var n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.info.name,expression:"info.name"}],staticClass:"form-control",attrs:{type:"text",name:"",placeholder:"标签名称"},domProps:{value:t.info.name},on:{input:function(e){e.target.composing||t.$set(t.info,"name",e.target.value)}}})])])},staticRenderFns:[]},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",[s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.info.description,expression:"info.description"}],staticClass:"form-control textarea-control",attrs:{placeholder:"标签描述",rows:"6"},domProps:{value:t.info.description},on:{input:function(e){e.target.composing||t.$set(t.info,"description",e.target.value)}}})])])},staticRenderFns:[]},i={props:["info"],components:{TagName:s("VU/8")({props:["info"]},n,!1,null,null,null).exports,TagDescription:s("VU/8")({props:["info"]},a,!1,null,null,null).exports}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("tag-name",{attrs:{info:this.info}}),this._v(" "),e("tag-description",{attrs:{info:this.info}})],1)},staticRenderFns:[]},c=s("VU/8")(i,r,!1,null,null,null);e.a=c.exports},TZg7:function(t,e,s){"use strict";s.d(e,"a",function(){return n}),s.d(e,"b",function(){return a});var n={name:"",parent:"",description:""},a={id:"",name:"",parents:"",description:""}}});
//# sourceMappingURL=4.f1b54fa5d195f2547fdf.js.map